interface WeaponData {
    sellPrice: number;
    attackPower: number;
    critChance: number;
    critValue: number;
    additionalHP: number;
    minWorldLevel: number;
    chestChance: number;
    emoji: string;
}

const baseWeapons: { [key: string]: WeaponData } = {
    "Dull Blade": {
        sellPrice: 5,
        attackPower: 2,
        critChance: 0,
        critValue: 0,
        additionalHP: 0,
        minWorldLevel: 1,
        chestChance: 30,
        emoji: "<:Weapon_Dull_Blade:1282455010222800968>",
    },
    "Waster Greatsword": {
        sellPrice: 5,
        attackPower: 3.5,
        critChance: 10,
        critValue: 0.25,
        additionalHP: 0,
        minWorldLevel: 2,
        chestChance: 20,
        emoji: "<:Weapon_Waster_Greatsword:1282455085741510857>",
    },
    "Iron Point": {
        sellPrice: 8,
        attackPower: 4,
        critChance: 15,
        critValue: 0.5,
        additionalHP: 0,
        minWorldLevel: 3,
        chestChance: 10,
        emoji: "<:Weapon_Iron_Point:1282455154427170987>",
    },
    "Silver Sword": {
        sellPrice: 8,
        attackPower: 4.5,
        critChance: 15,
        critValue: 0.5,
        additionalHP: 0,
        minWorldLevel: 3,
        chestChance: 5,
        emoji: "<:Weapon_Silver_Sword:1282455291153223774>",
    },
    "Cool Steel": {
        sellPrice: 10,
        attackPower: 5,
        critChance: 15,
        critValue: 0.75,
        additionalHP: 0,
        minWorldLevel: 4,
        chestChance: 5,
        emoji: "<:Weapon_Cool_Steel:1282455365161582643>",
    },
    "White Tassel": {
        sellPrice: 10,
        attackPower: 0,
        critChance: 50,
        critValue: 0.5,
        additionalHP: 0,
        minWorldLevel: 4,
        chestChance: 5,
        emoji: "<:Weapon_White_Tassel:1282455432715047003>",
    },
    "Skyrider Sword": {
        sellPrice: 15,
        attackPower: 6,
        critChance: 20,
        critValue: 0.75,
        additionalHP: 0,
        minWorldLevel: 5,
        chestChance: 5,
        emoji: "<:Weapon_Skyrider_Sword:1282455504269869109>",
    },
    "Twin Nephrite": {
        sellPrice: 15,
        attackPower: -10,
        critChance: 5,
        critValue: 3,
        additionalHP: 0,
        minWorldLevel: 5,
        chestChance: 5,
        emoji: "<:Weapon_Twin_Nephrite:1282455571370606653>",
    },
    "Harbinger of Dawn": {
        sellPrice: 20,
        attackPower: 8,
        critChance: 25,
        critValue: 1.5,
        additionalHP: 20,
        minWorldLevel: 6,
        chestChance: 5,
        emoji: "<:Weapon_Harbinger_of_Dawn:1282455645273981039>",
    },
    "Magic Guide": {
        sellPrice: 18,
        attackPower: 5,
        critChance: 10,
        critValue: 0.5,
        additionalHP: -10,
        minWorldLevel: 6,
        chestChance: 10,
        emoji: "<:Weapon_Magic_Guide:1282455719580270624>",
    },
    Messenger: {
        sellPrice: 22,
        attackPower: 9,
        critChance: 5,
        critValue: 1,
        additionalHP: 30,
        minWorldLevel: 6,
        chestChance: 5,
        emoji: "<:Weapon_Messenger:1282455784940245032>",
    },
    "Raven Bow": {
        sellPrice: 25,
        attackPower: 7,
        critChance: 15,
        critValue: 0.75,
        additionalHP: -15,
        minWorldLevel: 7,
        chestChance: 5,
        emoji: "<:Weapon_Raven_Bow:1282455848810971136>",
    },
    "Recurve Bow": {
        sellPrice: 30,
        attackPower: 6.5,
        critChance: 10,
        critValue: 0.5,
        additionalHP: 40,
        minWorldLevel: 7,
        chestChance: 5,
        emoji: "<:Weapon_Recurve_Bow:1282455914556952576>",
    },
    "Otherworldly Story": {
        sellPrice: 28,
        attackPower: 5,
        critChance: 25,
        critValue: 1,
        additionalHP: -20,
        minWorldLevel: 7,
        chestChance: 5,
        emoji: "<:Weapon_Otherworldly_Story:1282455997994238033>",
    },
    "The Black Sword": {
        sellPrice: 35,
        attackPower: 0,
        critChance: -80,
        critValue: 4,
        additionalHP: 0,
        minWorldLevel: 7,
        chestChance: 5,
        emoji: "<:Weapon_The_Black_Sword:1282998131432230933>",
    },
    "The Bell": {
        sellPrice: 35,
        attackPower: -10,
        critChance: -20,
        critValue: -1,
        additionalHP: 75,
        minWorldLevel: 7,
        chestChance: 5,
        emoji: "<:Weapon_The_Bell:1282998169830952960>",
    },
    "Emerald Orb": {
        sellPrice: 35,
        attackPower: 8,
        critChance: 20,
        critValue: 0.75,
        additionalHP: 10,
        minWorldLevel: 8,
        chestChance: 5,
        emoji: "<:Weapon_Emerald_Orb:1282456084505952286>",
    },
    "Ferrous Shadow": {
        sellPrice: 40,
        attackPower: 12,
        critChance: 5,
        critValue: 0.5,
        additionalHP: 50,
        minWorldLevel: 8,
        chestChance: 5,
        emoji: "<:Weapon_Ferrous_Shadow:1282456147210535013>",
    },
    "Fillet Blade": {
        sellPrice: 45,
        attackPower: 15,
        critChance: 5,
        critValue: 0.8,
        additionalHP: -25,
        minWorldLevel: 8,
        chestChance: 5,
        emoji: "<:Weapon_Fillet_Blade:1282456217150558258>",
    },
    "Sacrificial Sword": {
        sellPrice: 45,
        attackPower: -5,
        critChance: 0,
        critValue: 0.5,
        additionalHP: 50,
        minWorldLevel: 8,
        chestChance: 5,
        emoji: "<:Weapon_Sacrificial_Sword:1282504118518284338>",
    },
    "The Flute": {
        sellPrice: 45,
        attackPower: 5,
        critChance: 50,
        critValue: 0.5,
        additionalHP: 10,
        minWorldLevel: 8,
        chestChance: 5,
        emoji: "<:Weapon_The_Flute:1282504448538837013>",
    },
    "Blackcliff Agate": {
        sellPrice: 45,
        attackPower: 15,
        critChance: 20,
        critValue: 1,
        additionalHP: 75,
        minWorldLevel: 10,
        chestChance: 5,
        emoji: "<:Weapon_Blackcliff_Agate:1284390885836066847>",
    },
    "Chain Breaker": {
        sellPrice: 45,
        attackPower: 20,
        critChance: 20,
        critValue: 1,
        additionalHP: 0,
        minWorldLevel: 10,
        chestChance: 5,
        emoji: "<:Weapon_Chain_Breaker:1284617740899844176>",
    },
    Deathmatch: {
        sellPrice: 45,
        attackPower: 12,
        critChance: -50,
        critValue: 3,
        additionalHP: -10,
        minWorldLevel: 10,
        chestChance: 5,
        emoji: "<:Weapon_Deathmatch:1284617953509245082>",
    },
    "The Alley Flash": {
        sellPrice: 45,
        attackPower: 25,
        critChance: -10,
        critValue: 3,
        additionalHP: -100,
        minWorldLevel: 15,
        chestChance: 5,
        emoji: "<:Weapon_The_Alley_Flash:1289482689778548736>",
    },
    "Pro­to­type Ar­cha­ic": {
        sellPrice: 45,
        attackPower: 30,
        critChance: -10,
        critValue: -2,
        additionalHP: -50,
        minWorldLevel: 15,
        chestChance: 5,
        emoji: "<:Weapon_Prototype_Archaic:1289482979793698896>",
    },
    "Black­cliff War­bow": {
        sellPrice: 45,
        attackPower: 25,
        critChance: -10,
        critValue: 2.5,
        additionalHP: 0,
        minWorldLevel: 15,
        chestChance: 5,
        emoji: "<:Weapon_Blackcliff_Warbow:1289483143304314940>",
    },
    "Roy­al Gri­moire": {
        sellPrice: 45,
        attackPower: 50,
        critChance: 0,
        critValue: 2,
        additionalHP: -250,
        minWorldLevel: 15,
        chestChance: 5,
        emoji: "<:Weapon_Royal_Grimoire:1289486411061395517>",
    },
    "Aqua Simulacra": {
        sellPrice: 50,
        attackPower: 0,
        critChance: -100,
        critValue: 0,
        additionalHP: 0,
        minWorldLevel: 5,
        chestChance: 1,
        emoji: "<:Weapon_Aqua_Simulacra:1283303723082190902>",
    },
    "Staff of Homa": {
        sellPrice: 50,
        attackPower: 0,
        critChance: -100,
        critValue: 0,
        additionalHP: 0,
        minWorldLevel: 10,
        chestChance: 1,
        emoji: "<:Weapon_Staff_of_Homa:1283341597425008640>",
    },
};

const prefixes: {
    [key: string]: (weaponData: WeaponData) => Partial<WeaponData>;
} = {
    "": (() => ({})) as (weaponData: WeaponData) => Partial<WeaponData>,
    Old: (weaponData) => ({
        attackPower: weaponData.attackPower * 0.75,
    }),
    Sharp: (weaponData) => ({
        attackPower: weaponData.attackPower * 1.25,
    }),
    Godly: (weaponData) => ({
        attackPower: weaponData.attackPower * 1.5,
    }),
    Perfect: (weaponData) => ({
        attackPower: weaponData.attackPower * 2,
    }),
    Worthless: (weaponData) => ({
        attackPower: weaponData.attackPower * 0.5,
        sellPrice: 0,
    }),
    Spicy: (weaponData) => ({
        critValue: weaponData.critValue * 1.5,
    }),
};

export const weapons: { [key: string]: WeaponData } = {};

for (const weaponName in baseWeapons) {
    const baseWeaponData = baseWeapons[weaponName];
    for (const prefix in prefixes) {
        const modifierFunction = prefixes[prefix];
        const newWeaponName = prefix ? `${prefix} ${weaponName}` : weaponName;
        const modifiedStats = modifierFunction(baseWeaponData);
        weapons[newWeaponName] = {
            ...baseWeaponData,
            ...modifiedStats,
        };
    }
}

export type WeaponName = keyof typeof weapons & string;
